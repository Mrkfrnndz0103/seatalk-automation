-- Main table for stuckup source sheet (A:AL)
create table if not exists stuckup_shipments (
  id bigint generated by default as identity primary key,
  journey_type text,
  spx_station_site text,
  shipment_id text not null unique,
  status_group text,
  status_desc text,
  business_id text,
  business_name text,
  soc8_transfer_staging text,
  status_timestamp text,
  ageing_bucket text,
  lh_arrival_ts text,
  queue_ts text,
  next_destination_name text,
  sla_tag text,
  sla_text text,
  asm_reject_reason text,
  hub_dest_station_name text,
  return_station_name text,
  mm_type text,
  hub_region text,
  cluster_name text,
  last_to_number text,
  content_dest_station_name text,
  last_unsuccessful_log_operator text,
  ctime text,
  fms_last_update_time text,
  last_run_time text,
  destination_region text,
  cogs text,
  handover_task_id text,
  workstation_id text,
  workstation_name text,
  lh_trip text,
  last_operator text,
  day text,
  ageing_bucket_2 text,
  operator text,
  hv text,
  updated_at timestamptz not null default now()
);

-- State table for monitor fingerprint persistence
create table if not exists stuckup_sync_state (
  key text primary key,
  value text not null,
  updated_at timestamptz not null default now()
);
